<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
 <extension
       point="org.eclipse.debug.core.launchConfigurationTypes">
    <launchConfigurationType
          id="org.jboss.tools.vpe.cordovasim.eclipse.cordovaSimLaunchConfigurationType"
          delegate="org.jboss.tools.vpe.cordovasim.eclipse.launch.internal.CordovaSimLaunchConfigurationDelegate"
          modes="run"
          name="CordovaSim">
    </launchConfigurationType>
 </extension>
 <extension point="org.eclipse.core.expressions.propertyTesters">
    <propertyTester
      id="org.jboss.tools.cordovasim.feedHenryTester"
      type="org.eclipse.core.resources.IResource"
      namespace="org.jboss.tools.cordovasim"
      properties="isFeedHenry"
      class="org.jboss.tools.vpe.cordovasim.eclipse.launch.internal.FeedHenryTester">
    </propertyTester>
 </extension>
 <extension
       point="org.eclipse.debug.ui.launchConfigurationTypeImages">
    <launchConfigurationTypeImage
          configTypeID="org.jboss.tools.vpe.cordovasim.eclipse.cordovaSimLaunchConfigurationType"
          icon="icons/cordovasim_16.png"
          id="org.jboss.tools.vpe.cordovasim.eclipse.cordovaSimLaunchConfigurationTypeImage">
    </launchConfigurationTypeImage>
 </extension>
 <extension
       point="org.eclipse.debug.ui.launchConfigurationTabGroups">
    <launchConfigurationTabGroup
          class="org.jboss.tools.vpe.cordovasim.eclipse.launch.internal.CordovaSimLaunchConfigurationTabGroup"
          id="org.jboss.tools.vpe.cordovasim.eclipse.cordovaSimLaunchConfigurationTypeTabGroup"
          type="org.jboss.tools.vpe.cordovasim.eclipse.cordovaSimLaunchConfigurationType">
    </launchConfigurationTabGroup>
 </extension>
 <extension
         point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            class="org.jboss.tools.vpe.cordovasim.eclipse.launch.internal.CordovaSimLaunchShortcut"
            id="org.jboss.tools.vpe.cordovasim.eclipse.launchShortcut"
            label="Run with CordovaSim"
            icon="icons/cordovasim_16.png"
            modes="run">
        <contextualLaunch>
            <enablement>
                <with variable="selection">
                    <count value="1"/>
                    <iterate>
                        <adapt  type="org.eclipse.core.resources.IResource">
                        	<or>
	                        	<test property="org.eclipse.core.resources.projectNature" 
	                           		value="org.eclipse.thym.core.HybridAppNature" />
	                           	<test property="org.eclipse.core.resources.projectNature" 
	                           		value="com.android.ide.eclipse.adt.AndroidNature" />
                        	</or>
                        </adapt> 
                    </iterate>
                </with>
            </enablement>
         </contextualLaunch>
      </shortcut>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            class="org.jboss.tools.vpe.cordovasim.eclipse.launch.internal.FeedHenryLaunchShortcut"
            id="org.jboss.tools.vpe.cordovasim.eclipse.feedhenry.launchShortcut"
            label="Run CordovaSim /wFeedHenry"
            icon="icons/cordovasim_feed_henry_16.png"
            modes="run">
        <contextualLaunch>
            <enablement>
                <with variable="selection">
                    <count value="1"/>
                    <iterate>
                        <adapt  type="org.eclipse.core.resources.IResource">
                        	<and>
	                        	<test property="org.eclipse.core.resources.projectNature" 
	                           		value="org.eclipse.thym.core.HybridAppNature" />
	                           	<test property="org.jboss.tools.cordovasim.isFeedHenry" 
	                           		forcePluginActivation="true"/>
                        	</and>
                        </adapt> 
                    </iterate>
                </with>
            </enablement>
         </contextualLaunch>
      </shortcut>
   </extension>
</plugin>
